## 2022.12.01
12월의 첫 날이 왔다.  
오늘은 야심차게 DB 연결도 하고 이것저것 바꾸면서 시도해보려고 했는데, 결론적으론 별로 못했다.  
우선 공부하느라 밀린 업무도 조금 하고  
DB를 강의에서 사용한 h2를 쓰려고 했는데, 기존에 연결을 했어서 경로를 찾지 못해 시간이 좀 걸렸다.  
겨우 DB 세팅을 하고, table 생성하는 것 까지 마쳤다.  
이제 내일은 진짜 시작할 수 있을거다!  
그리고 최근에 코딩 공부 스터디를 만들어서 자바 코테 문제를 풀고있다.  
아직 자바가 낯설어서 자바의 구조와 익숙해지는 시간이 필요해보인다.  
12월의 나 화이팅!!  

## 2022.12.02
음.. 우선은 DB 연결은 했다.  
필드 값에 맞춰서 Entity를 완성하고, JpaRepository 인터페이스를 통해 SpringDateJpaMemberRepository도 만들었다.  
그런데, 홈 화면에서 입력받은 값이 자동으로 DB에 저장된다고 생각했는데, 그것까지는 작동이 안 된다..  
그리고 아직 dto는 사용하지 않았는데, 이 때문인지 아니면 다른 설정을 놓친건지 모르겠다.  
entity, repository, controller, dto 이렇게 각각의 파일들은 어떻게든 찾아서 만들 수 있을 것 같은데  
이들을 연결시키고, Service에서 자유자재로 활용하는 부분이 제일 어렵다.  
이제 이걸 집중해서 공부해야지 힘내자!  

## 2022.12.05
Controller를 통합하고(MemberController만 사용) 다른 Controller에 있는 코드들은 requestDto에 반영했다.  
requestDto에는 name 변수 하나만 넣어서 create를 할 때 입력하는 이름을 받도록 만들었다.  
그리고 Service를 변경사항에 맞춰서 수정하고있었다.  
그런데 문제는 id가 순서대로 자동으로 생성되어서 기존의 create 코드에서도 Entity(id, name)을 그대로 사용한다는 걸 발견했다.  
즉, Dto를 만들 이유가 없다. 여기서부터 공부한 내용들이 꼬이기 시작했고 코드는 엉망진창이 되었다.  
굳이 dto를 사용하는 방법으로 계속 이어나갈지, 그래도 직접 치면서 공부한 것에 만족하고 끝낼지 고민이다.  
머리가 복잡해져서 지금까지 배운 내용을 핵심만 뽑아서 정리했다.  
파일들을 연결하는 과정이 완전히 이해되지 않아서 각각의 Input, Output을 명시하고, 이름을 직관적으로 적었다.  
그 과정에서 service를 찬찬히 하나씩 살펴봤는데, 정리하기가 참 어려웠다.  
내가 참고하던 코드는 두 팀원 분들과 spring 공부하면서 작성한 코드이다.  
그런데 두 분의 코드 스타일이 완전 다르다. 한 분은 변수들을 연결하는 방식, 다른 분은 entity에 작성한 함수를 사용하는 방식이다.  
정답은 없지만 일단은 한가지 방법으로 정해야 코딩할 수 있을텐데 고민이다.  

## 2022.12.06
배운 걸 토대로 업무를 시작했다.  
entity, repository, dto 등은 작성해뒀는데, 이제야 조금씩 뭐가 뭔지 알겠어서 코드들을 점검했다.  
보다보니 또 배울 것이 생겼다.  
entity에서 생성자를 만드는데, 한 필드가 parameter 값이 없어서 다르게 처리해야 하는지 보는 중이다. (ex) debitBalance: 0L;)  
그리고 repository에서 다른 테이블의 key 값은 self로 left join fetch를 해야하는 걸 배웠다.  
그 구문이 없으면, 다른 테이블과의 연결에 대한 정보들을 사용할 수 없게 된다.  
내일은 controller와 service를 볼 예정이다.  
이제 swagger가 뭐고, 비즈니스 로직을 어떻게 짤 지에 대해 많이 배울 것으로 보인다.  
이번 업무의 목표는 이번주 금요일까지 차기이월 계산 로직을 완성해야 한다. 화이팅!!!!!  

## 2022.12.07
요즘은 진짜 바쁘다..  
업무에서 entity, repository, dto는 미리 작성해둬서 오래 안 걸릴 거라 생각했는데, crud 연습을 한 후에 보니 부족한 부분이 너무 많아서 다시 다 수정하고 있다.  
아무래도 이번주까지 끝내기는 어려울 것 같은데 그래도 일단 평일에 최대한 물어보고 주말에 머리를 쥐어짜면 될 수도 있지 않을까 싶기도 하다.  
오늘은 repository 부분을 중점적으로 수정했다.  
join은 사용하지 않지만 복잡한 쿼리문을 @Query를 사용해서 작성해 뒀는데, JPAQueryFactory로 바꿔야 하나 고민 중이다. JPA 기준에서 복잡하지 않는 범위가 어떻게 되는지 궁금하다.  
그리고 DB에 dummy data 들이 없어서 만드려고 sql을 열심히 했는데 자동 생성되는 id 같은 column 때문인지 자꾸 에러가 난다.  
그래서 아예 spring을 사용해서 데이터를 넣는 방법으로 해결하고자 한다.  
그런데 아직 그 방법도 모르고, controller의 swagger 기능이 필요해 보이는데 이 부분은 공부가 더 필요하다.  
내일 회사 오면 바로 물어봐야겠다.  
오늘의 나, 수고했다 내일도 화이팅!  

## 2022.12.09
엄청 찾아보고, 배우고, 해보면서 정말 많은 것들을 알게 되었다.
너무 많고 흩어진 정보들이라서 정리를 어떻게 할지 고민이다.
그래도 가장 인상깊었던 배움은 화면단으로 보이는 변수만 가져오는 것은 아니라는 거다.
그러니까, 한 entity의 정보(id)만 받으면 그 이후에는 repository와 service에서 찾으면서 연결하면 된다.
덕분에 여태까지 한 개발이 거의 뒤엎어졌다..
아예 requestDto의 변수도 확 줄고, 구조 자체도 바뀌고, 쿼리문도 훨씬 단순하게 만들 수 있다.
repository와 dto는 얼추 만들었고, 이제 조금 알 것 같아서 괜찮은데, service가 문제다..
service에서 서로 다른 곳에서 온 변수들을 연결해주어야 하는데, 아직 모르는 것이 많아서 쉽지 않다.
원래 목표는 오늘까지 service(+controller) 완성이었는데, 목표 업무의 절반 정도만 개발한 상태이다.
그래서 주말에 service를 최대한 만들고 월요일에 약간의 수정만 받으려고 한다.
간만에 주말 출근이다 화이팅ㅎㅎ

## 2022.12.10
오늘은 코드를 좀 짰다!
하루 자고 맑은 정신으로 코드를 다시 보니, 어제에는 안 보이던 것들이 보였다.
service를 중심으로 repository와 dto를 연결한다는 말이 무슨 말인지 알 것도 같다.
덕분에 우선 어제 목표한 만큼의 코드는 대략 완성했다.
하지만 처음 목표에 비하면 다소 작성하지 못한 기능들이 많다.
가능하면 내일 와서 마저 코드를 짜보려고 한다.
수고했다!^^

## 2022.12.12
주말동안 열심히 짠 코드를 보여주고 리뷰를 받았다.  
간단하게만 수정한 뒤에 실행시켰고, 다행이도 잘 돌아갔다.  
그리고 나서는 값이 맞는지 확인하기 위해 swagger로 돌려봤다.  
내가 짠 부분이 response에는 포함되어 있지 않고 save만 해서, debug를 해봤다.  
에러없이 잘 돌아가기는 하는데 값을 어떻게 보는지 못찾고있다.  
우선은 QueryDSL 관해서 git에 정리하면서 가볍게 마무리하려고 한다.  

## 2022.12.13
previous, current 기능 모두 잘 돌아가고 값도 원하는 대로 나와서 점검은 얼추 되었다.  
이제 current의 type을 dto에서 entity로 바꿔야 하는데, return new로 하려니까 error가 뜬다.  
좀 더 고민해봐야겠다.  

## 2022.12.14
dto의 타입을 바꾸려고 했는데, 우선 current와 previous를 더한 다음에 바꾸려고 한다.  
더하는 작업을 join을 써야하나 했는데, current는 현재 dto 방식이기도 하고 db에 이 값 자체를 저장할 생각은 아니라서 다른 방법을 생각해봤다.  
join보다는 좀 비효율적이긴 하겠지만 loop를 돌려서 id가 맞는 값끼리 더하려고 한다.  
그래도 시간 복잡도와 서비스의 부담을 줄이기 위해서 id를 순서대로 정렬하고(long 타입) 앞에서부터 둘을 비교하면서 채워넣으려고 한다.  
이렇게 보니 코딩테스트 연습하던 때가 생각난다. JAVA 스터디를 더 열심히 해둘걸 그랬다ㅎㅎ  
그래도 이제 길이 보여서 마음이 한결 편하다  
이번주 안에 끝내고 싶은데 가능할지는 모르겠다. 화이팅!  
