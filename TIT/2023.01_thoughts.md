## 2023.01.02
새해가 밝았다. 별로 체감이 되지는 않다.  
오늘은 (조건에 맞는) 기간비용 리스트를 모두 read하는 기능을 구현했다.  
request 조건으로 검색하기 위해서는 전표 entity와 join이 필요하다. join 후에 where 조건만 걸으면 돼서 쿼리 자체는 간단하지만, 전표의 양이 굉장히 많아서 시스템에 부하가 걸릴지 않을까 걱정되었다. 팀원과 상의하고 우선 이부분은 고려하지 않고 구현하기로 했다.  
그리고 response에 계정과목 이름까지 나타내기 위해서 총 3번의 join이 필요했다. JPAQueryFactory를 사용해서 구현했는데, 연속으로 join을 걸어도 작동하는지는 확신이 서지 않는다.  
그래서 일단은 service, controller까지 생성하고 내일 swagger에 등록하고 돌려보면서 확인하려고 한다.  
여전히 시스템 과부하가 걱정이다.. left join 말고 더 좋은 방법이 없을까

## 2023.01.03
오늘은 저번에 올린 코드의 리뷰를 받았다.  
초반에 단편적인 정보들만 가지고 눈에 보이는 문제부터 해결하는 식으로 코딩했었는데, 그 문제가 드러난 것 같다.  
처음에는 requestDto에서 당장 필요한 attribute를 불러왔고, entityId만으로도 연결해서 불러올 수 있다는 사실을 알고 entityId를 가져오는 형태로 바꿨었다.  
그리고 지금 전체적으로 살펴보니, 가져온 entityId를 차기이월 entityId를 통해 가져올 수 있었다. 그리고 이 Id는 차기이월 데이터를 관리하기 위해 기존에도 불러오고 있었다.  
즉, 한번에 가져오는 루트를 보지 못하고 돌아서 데이터를 가져왔다. 오늘은 이 부분을 수정했다.  
이 외에도 repository에서 left join fetch는 사용할 entity attribute가 아니면 join할 필요가 없다는 사실도 알게 되었다.  
그리고 서비스의 길이가 길어서 중복되는 부분은 최대한 따로 메소드로 빼려고 한다.  
내 코드를 전체적으로 봐주는 사람이 있다는 게 체감이 되고 든든해졌다.  
내일 다 수정해서 merge 올리자!
